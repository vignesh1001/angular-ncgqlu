const PurchaseAdditionalMembership = () => {
    const [showModal, setShowModal] = useState(false);
    const [membershipCount, setMembershipCount] = useState("0");
    const handleMembershipChange = (value:number) => {
        setMembershipCount(`${value}`);
    }
    const memberMembershipOptions = [0,1,2,3,4];

    const renderModal = ()=> (<ModalContent titleText=''>
        <Row>
            <View>
                <Text fontSize="T150" className={styles.maintitle}>
                    Buy additional memberships
                </Text>
                <Text fontSize="T100" className={styles.addtionalTitle}>
                    Additional Members
                </Text>
            </View>
        </Row>
        <Row>
            <View width="20%">
                <Dropdown id="membershipCount" value={membershipCount} onChange={(value:number)=>
                    handleMembershipChange(value)}
                    options={memberMembershipOptions}
                    width="100px"
                />
            </View>
            <View width="80%" justifyContent='flex-start' alignItems='center' display='flex'>
                <Text margin={{left: 4}}>just $x.xx / month each</Text>
            </View>
        </Row>
        <Row margin={{top: 10}}>
            <View display='flex' justifyContent='center' alignItems='center'>
                <MessageBanner>
                    You currently have 1 membership.
                </MessageBanner>
            </View>
        </Row>
        <Row className={styles.planDetailPanel} margin={{top: 16}}>
            <View width="40%"><Text>Current plan price:</Text></View>
            <View width="60%">
                <View><Text>{`$x.xx / month`}</Text></View>
                <View><Text>Billed on the 17th of each month</Text></View>
            </View>
        </Row>
        <Row margin={{top: 16}}>
            <View width="40%"><Text fontWeight={'bold'}>New plan price:</Text></View>
            <View width="60%">
                <Row>
                    <Text fontWeight={'bold'} fontSize="T100">{`$X.XX `}</Text>
                    <Text textDecoration="line-through">{`x.xx`}</Text>
                    <Text>{` / month`}</Text>
                </Row>
                <View><Text>XX% off with Prime</Text></View>
                <View><Text>Billed on the 26th of each month</Text></View>
            </View>
        </Row>
        <View className={styles.addLine} />
        <Row margin={{top: 16}}>
            <View><Text fontWeight="bold">Renews: </Text></View>
            <View>
                <View><Text>Monthly</Text></View>
            </View>
        </Row>
        <Row>
            <View><Text fontWeight="bold">Payment method: </Text></View>
            <View>
                <View><Text>Visa **123</Text></View>
            </View>
        </Row>
        <View>
            <Text fontSize="T100" margin={{top: 8}}>
                Renewal cycle and payment will be the same as your existing membership.
                <Link href="https://amazon.co.uk">Make changes from your One Medical membership settings</Link>
            </Text>
        </View>

        <View display='flex' justifyContent='center'>
            <CtaButton classname={styles.placeOrderBtn} data-testid="place-your-order" enabled onClick={open} 
            label={'Place your order'}></CtaButton>
        </View>
        <Text fontSize="T50">
            By proceeding you accept the <Link href="https://amazon.co.uk">Terms and Conditions</Link>
        </Text>
    </ModalContent>);
    return (
        <Col gridGap="S200">
            <Col gridGap="S200">
            <WithModal renderModal={renderModal}>
                {({ open }) => <CtaButton data-testid="billing-cycle-options" enabled onClick={open} label={'Save updates'}>
                </CtaButton>}
            </WithModal>
            </Col>
        </Col>
    );
}

export default PurchaseAdditionalMembership;
